(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{1283:function(t,e,l){"use strict";l.r(e);l(134),l(225);var n,r,o={name:"TextReplace",components:{Dynamic:l(52).a},data:function(){return{oldInput:"",oldString:"",newInput:"",newString:"",results:"",sourceIndex:2,regex:!0,perLine:!1,sourceLabels:[{label:"逗号(,)",val:","},{label:"TAB(\\t)",val:"\t"},{label:"换行(\\n)",val:"\n"},{label:'双引号(")',val:'"'},{label:"单引号(')",val:"'"},{label:"分割符(|)",val:"|"},{label:"空格",val:" "},{label:"空白字符",val:"s"}],targetIndex:0,targetLabels:[{label:"逗号(,)",val:","},{label:"TAB(\\t)",val:"\t"},{label:"换行(\\n)",val:"\n"},{label:'双引号(")',val:'"'},{label:"单引号(')",val:"'"},{label:"分割符(|)",val:"|"},{label:"空格",val:" "},{label:"空字符",val:""}]}},watch:{regex:function(){this.parse()},oldInput:function(){this.parse()},oldString:function(){this.oldString.trim()!==n&&(n=this.oldString.trim(),this.parse())},newInput:function(){this.parse()},newString:function(){this.newString.trim()!==r&&(r=this.newString.trim(),this.parse())},sourceIndex:function(){this.parse()},targetIndex:function(){this.parse()}},methods:{reverse:function(){var t=this.oldString,e=this.newString,l=this.sourceIndex,n=this.targetIndex,r=this.oldInput,o=this.newInput;this.sourceIndex=n,this.targetIndex=l,this.oldInput=o,this.newInput=r,this.oldString=e,this.newString=t},escapeParse:function(t){return t=(t=(t=(t=(t=(t=(t=(t=t.replaceAll("\\''","'")).replaceAll('\\""','"')).replaceAll("\\&","&")).replaceAll("\\n","\n")).replaceAll("\\r","\r")).replaceAll("\\t","\t")).replaceAll("\\b","\b")).replaceAll("\\f","\f")},parse:function(){var t=!0,e=this.sourceLabels[this.sourceIndex].val,l=this.targetLabels[this.targetIndex].val;this.oldInput.length>0&&(e=this.oldInput,t=this.regex,this.regex&&(e=this.escapeParse(e))),this.newInput.length>0&&(l=this.newInput,t=this.regex,this.regex&&(l=this.escapeParse(l)));try{if(this.perLine){var n=this.oldString.split("\n"),r=[];n.forEach((function(line){if(t){var n=new RegExp(e,"g");r.push(line.replaceAll(n,l))}else r.push(line.replaceAll(e,l))})),this.newString=r.join("\n")}else if(t){var o=new RegExp(e,"g");this.newString=this.oldString.replaceAll(o,l)}else this.newString=this.oldString.replaceAll(e,l)}catch(t){console.log(t)}}}},c=l(2),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"textdiff"},[e("nya-container",{attrs:{title:"文本替换"}},[e("div",{staticClass:"form-inline"},[e("nya-checkbox",{attrs:{label:"支持正则替换"},model:{value:t.regex,callback:function(e){t.regex=e},expression:"regex"}}),t._v(" "),e("nya-checkbox",{staticStyle:{"padding-left":"1em"},attrs:{label:"逐行替换"},model:{value:t.perLine,callback:function(e){t.perLine=e},expression:"perLine"}}),t._v(" "),e("button",{staticClass:"btn btn-outline-primary btn-sm",staticStyle:{"margin-left":"1em"},on:{click:t.reverse}},[t._v("翻转")])],1),t._v(" "),e("div",{staticClass:"row top-margin-1em"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 custom-bg-color custom-by-both"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"radio-group"},[e("nya-radio-group",{model:{value:t.sourceIndex,callback:function(e){t.sourceIndex=e},expression:"sourceIndex"}},t._l(t.sourceLabels,(function(label,i){return e("nya-radio",{key:i,staticClass:"mr-15",attrs:{value:i,label:label.label}})})),1)],1),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.oldInput,expression:"oldInput"}],staticClass:"form-control",staticStyle:{width:"80%"},attrs:{type:"text",autocomplete:"false",placeholder:"输入需要替换的字符"},domProps:{value:t.oldInput},on:{input:function(e){e.target.composing||(t.oldInput=e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 custom-bg-color custom-by-both"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"radio-group"},[e("nya-radio-group",{model:{value:t.targetIndex,callback:function(e){t.targetIndex=e},expression:"targetIndex"}},t._l(t.targetLabels,(function(label,i){return e("nya-radio",{key:i,staticClass:"mr-15",attrs:{value:i,label:label.label}})})),1)],1),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newInput,expression:"newInput"}],staticClass:"form-control",staticStyle:{width:"80%"},attrs:{type:"text",autocomplete:"false",placeholder:"输入替换后的字符"},domProps:{value:t.newInput},on:{input:function(e){e.target.composing||(t.newInput=e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"col-12 col-xl-12 col-sm-12 col-md-12"},[e("div",{staticClass:"row",staticStyle:{"padding-right":"12px","padding-top":"1em"}},[e("nya-input",{staticClass:"mb-15",attrs:{fullwidth:"",rows:"5",type:"textarea",autofocus:"",autocomplete:"off",label:"待转化文本",placeholder:"1\n2\n3"},model:{value:t.oldString,callback:function(e){t.oldString=e},expression:"oldString"}})],1)])])]),t._v(" "),t.newString?e("nya-container",{attrs:{title:"替换结果"}},[e("nya-copy",{attrs:{copy:t.newString}},[e("pre",[t._v(t._s(t.newString))])])],1):t._e(),t._v(" "),e("nya-foot-info",{attrs:{title:"Tips"}},[e("li",[t._v("\n                使用："),e("a",{attrs:{href:"https://github.com/liuyueyi/quick-jsdemo",target:"_blank",rel:"noopener noreferrer"}},[t._v("quick-jsdemo")]),t._v(" js文本替换\n            ")])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);